## 调用和回调机制

在一个应用系统中，无论使用何种语言开发，必然存在模块之间的调用，调用的方式分为几种：

### 1.同步调用

```
        类A                 类B
        +a()---------------->+b()
```

同步调用是最基本并且最简单的一种调用方式，类A的方法a()调用类B的方法b()，一直等待b()方法执行完毕，a()方法继续往下走，这种调用方式适用于方法b()执行时间不长的情况，因为b()方法执行时间长或者堵塞的话，a()方法的余下代码是无法执行下去的，这样会造成整个流程的阻塞。

### 2.异步调用

```
        类A                 类B
        +a()---------------->+b()
```

异步调用是为了解决同步调用可能出现的阻塞，导致整个流程卡住而产生的一种调用方式。类A的方法a()通过新起的线程方式调用类B的方法b()，代码接着直接往下执行，这样无论方法b()执行时间多久，都不会阻塞住方法a()的执行。

但是这种方式，由于方法a()不等待方法b()的执行完成，在方法a()需要方法b()执行结果的情况选(视具体业务而定，有些业务比如启动异步线程发个微信通知，刷新一个缓存这个中没必要)，必须通过一定的方式对方法b()的执行结果进行监听。

### 3.回调

```
        类A                                 类B
        
        +a()-------------------------------->+b()           
        +callback()<-------------------------+b()
```

回调的思想是：
     -类A的a()方法调用类B的b()方法

​     -类B的b()方法执行完毕之后主动调动类A的callback()方法