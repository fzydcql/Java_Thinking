## RabbitMQ和Kafka的显著差异

RabbitMQ是一个消息代理，但是Apache Kafka是一个分布式流式系统。

Kafka最适用于数据的流式处理，但是RabbitMQ对流式中的消息就很难保持他们的顺序。

RabbitMQ内置重试逻辑和死信交换器，但是kafka只是把这些实现逻辑交给用户来处理。

## 消息顺序

对于发送到队列或者交换器上的消息，RabbitMQ不保证它们的顺序。尽管消费者按照顺序处理生产者发来的消息看上去很符合逻辑，但是这有很大误导性。

RabbitMQ文档中有关于消息顺序保证的说明：

```
"发布到一个通道上的消息，用一个交换器和一个队列以及一个出口通道来传递，那么最终会按照他们发送的顺序收到"
                                                                        --RabbitMQ代理语义
```

只要我们是单个消费者，那么接收到的消息顺序就是有序的，然后一旦多个消费者从同一个队列中读取消息，那么消息的处理顺序就没办法保证了。

因为由于消费者读取消息之后可能会把消息放回（或者重传）到队列中（例如，处理失败的情况），这样就会导致消息的顺序无法保证。

