#### cookie

cookie是一个非常具体的东西，指的就是浏览器里面能永久存储的一种数据，仅仅是浏览器实现的一种数据存储功能。

cookie由服务器生成，发送给浏览器，浏览器吧cookie一kv形式保存带某个目录下的文本文件内，下一次请求同一网站会把该cookie发送给服务器。由于cookie是存在客户端上的，所以浏览器加入了一些限制确保cookie不会被恶意使用，同时不会占据太多磁盘空间，所以每个域的cookie数量是有限的。

#### Session

session从字面上讲，就是会话。这个就类似于你和一个人交谈，你怎么知道当前和你交谈的是张三而不是李四，对方肯定有某种特征（长相等）表明他就是张三。

session也是类似的道理，服务器要知道当前发请求给自己的是谁。为了做这种区别，服务器就要给每个客户端分配不同的“身份标识”，然后客户端每次向服务端发请求的时候，都带上这个“身份标识”，服务器就知道这个请求来自于谁了。至于客户端怎么保存这个“身份标识”，可以有很多方式，对于浏览器客户端，大家都默认采用cookie的方式。

服务器使用session把用户的信息临时保存在了服务器上，用户离开网站后session会被销毁。这种用户信息存储方式相对cookie来说更安全，可是session有一个缺陷：如果web服务器做了负载均衡，那么下一个操作请求到了另一台服务器的时候session会丢失。

#### Token

在web领域基于Token的身份验证随处可见。在大多数使用web API的互联网公司中，token是多用户下处理认证的最佳方式。

以下几点特性会让你在程序中使用基于token的身份验证

1. 无状态，可扩展
2. 支持移动设备
3. 跨程序调用
4. 安全

那些使用基于Token的身份验证的大佬们

大部分你见到过的API和web应用都使用tokens。例如Facebook、Twitter、Google+、GitHub等。



基于Token的身份验证的过程如下：

1. 用户通过用户名和密码发送请求
2. 程序验证
3. 程序返回一个签名的token，给客户端
4. 客户端存token，并且每次用于每次发送请求。
5. 服务端验证token并返回数据。



每一次请求都需要token。token应该在HTTP的头部发送从而保证了Http请求无状态。我们同样通过设置服务器属性Access-Control-Allow-Origin:*,让服务器能接受到来自所有域的请求。需要主要的是，在ACAO头部标明*时，不得带有像HTTP认证，客户端SSL证书和cookies的证书。

![微信图片_20200730100930](C:\Users\HITO_JAVA5\Desktop\最近整理的文本\笔记2\图片\微信图片_20200730100930.png)

实现思路：

1. 用户登录校验，检验成功后就返回Token给客户端。
2. 客户端收到数据后保存在客户端
3. 客户端每次访问API是携带Token到服务器端
4. 服务器端采用filter过滤器校验。校验成功则返回请求数据，校验失败则返回错误码。



#### Tokens的优势

1. 无状态，可扩展性
2. 安全性
3. 可扩展性
4. 多平台跨域性