### 堆和栈的概念和区别：

#### Jvm内存的划分有五片：

####         1.寄存器；

​       这是最快的存储区，因为位于不同于其他存储区的地方---处理器内部。但是寄存器的数量及其有限，所以寄存器根据需求分配，我们程序中无法控制。

####         2.本地方法区；

####         3.方法区；

####         4.栈内存；

​         栈内存首先是一片内存区域，存储的都是局部变量，凡是定义在方法中的都是局部变量（方法外的都是全局变量），for循环内部定义的也是局部变量，是先加载函数才能进行局部变量的定义。

​         所以方法先进栈，然后再定义变量，变量有自已的作用域，一旦离开作用域，变量就会释放。栈内存的更新速度很快，因为局部变量的生命周期都很短。

####         5.堆内存。

​        堆内存存储的是数组和对象（其实数组就是对象），凡是new建立的都是在堆中，堆中存放的都是实体（对象），实体用于封装数据，而且是封装多个（实体的多个属性），如果一个数据消失，这个实体也没有一并消失，还可以用，所以堆是不会随时释放的，但是栈不一样，栈内存存放的都是单个变量，变量释放了就没有了。堆里的实体虽然不会被释放，但是会被当成垃圾，java由垃圾回收机制，不定时的收取。

#### 6.堆和栈的区别：  

```
    1.栈内存存储的是局部变量而堆内存存储的是实体。
    2.栈内存的更新速度要快于堆内存，因为局部变量的生命周期很短。
    3.栈内存存放的变量生命周期一旦结束就会被释放，而堆内存存放的实体会被垃圾回收机制不定时的回收。
```

#### 7.常量池：

​       常量池指的是在编译期被确定，并被保存在已编译的.class文件中的一些数据。除了包含代码中所定义的各种基本类型（如int，long等等）和 对象型（如String及数组）的常量值（final）还包含一些以文本形式出现的符号引用，比如：

​           1.类和接口的权限定名

​            2.字段的名称和描述符；

​            3.方法和名称和描述符。

​       虚拟机必须为每个被装载的类型维护一个常量池。常量池就是该类型所用到常量的一个有序集合，包括直接常量和其他类型，字段和方法的符号引用。

​      对于String变量，它的值是在常量池中的，而JVM中的常量池在内存中是以表的形式存在的，对于String类型，有一张固定长度的CONSTANT_String_info表用来存储文字字符串值，注意：该表值存储文字字符串值，不存在符号引用。

​     在程序执行的时候，常量池会存储在方法区，而不是在堆中。

​     栈和常量池中的对象可以共享。

####  结论：

​       字符串是一个特殊包装类,其引用是存放在栈里的,而对象内容必须根据创建方式不同定(常量池和堆).有的是编译期就已经创建好，存放在字符串常 量池中，而有的是运行时才被创建.使用new关键字，存放在堆中。对于基础类型的变量和常量，变量和引用存储在栈中，常量存储在常量池中。

####  8.静态域：

​     存放在对象中用static定义的静态成员。